{"ast":null,"code":"import React,{useState,useEffect,useRef,useCallback}from\"react\";import{tasksAPI,listsAPI}from\"../services/api\";import{format,isToday,isTomorrow,isThisWeek,isPast}from\"date-fns\";// Delete Confirmation Modal Component\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function DeleteConfirmationModal(_ref){let{isOpen,onClose,onConfirm,taskTitle}=_ref;console.log(\"DeleteConfirmationModal render - isOpen:\",isOpen,\"taskTitle:\",taskTitle);if(!isOpen)return null;return/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-[99999]\",children:/*#__PURE__*/_jsx(\"div\",{className:\"bg-gradient-to-r from-gray-800 to-gray-900 rounded-2xl p-8 max-w-md w-full mx-4 border border-gray-700 shadow-2xl\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-16 h-16 bg-gradient-to-r from-red-500 to-red-600 rounded-full flex items-center justify-center mx-auto mb-6 shadow-lg\",children:/*#__PURE__*/_jsx(\"svg\",{className:\"w-8 h-8 text-white\",fill:\"currentColor\",viewBox:\"0 0 20 20\",children:/*#__PURE__*/_jsx(\"path\",{fillRule:\"evenodd\",d:\"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z\",clipRule:\"evenodd\"})})}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-2xl font-bold text-white mb-4\",children:\"Delete Task\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-gray-300 mb-6\",children:[\"Are you sure you want to delete \",/*#__PURE__*/_jsxs(\"span\",{className:\"font-semibold text-white\",children:[\"\\\"\",taskTitle,\"\\\"\"]}),\"? This action cannot be undone.\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex space-x-4\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:onClose,className:\"flex-1 bg-gradient-to-r from-gray-600 to-gray-700 hover:from-gray-500 hover:to-gray-600 text-white font-semibold py-3 px-6 rounded-xl transition-all duration-200 transform hover:scale-105 shadow-lg\",children:\"Cancel\"}),/*#__PURE__*/_jsx(\"button\",{onClick:onConfirm,className:\"flex-1 bg-gradient-to-r from-red-600 to-red-700 hover:from-red-500 hover:to-red-600 text-white font-semibold py-3 px-6 rounded-xl transition-all duration-200 transform hover:scale-105 shadow-lg\",children:\"Delete\"})]})]})})});}// Success Confirmation Modal Component\nfunction SuccessConfirmationModal(_ref2){let{isOpen,onClose,title,message,itemName,onConfirm}=_ref2;if(!isOpen)return null;return/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-[99999]\",children:/*#__PURE__*/_jsx(\"div\",{className:\"bg-gradient-to-r from-gray-800 to-gray-900 rounded-2xl p-8 max-w-md w-full mx-4 border border-gray-700 shadow-2xl\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-16 h-16 bg-gradient-to-r from-green-500 to-green-600 rounded-full flex items-center justify-center mx-auto mb-6 shadow-lg\",children:/*#__PURE__*/_jsx(\"svg\",{className:\"w-8 h-8 text-white\",fill:\"currentColor\",viewBox:\"0 0 20 20\",children:/*#__PURE__*/_jsx(\"path\",{fillRule:\"evenodd\",d:\"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z\",clipRule:\"evenodd\"})})}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-2xl font-bold text-white mb-4\",children:title}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-gray-300 mb-6\",children:[message,\" \",/*#__PURE__*/_jsxs(\"span\",{className:\"font-semibold text-white\",children:[\"\\\"\",itemName,\"\\\"\"]}),\"?\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex space-x-4\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:onClose,className:\"flex-1 bg-gradient-to-r from-gray-600 to-gray-700 hover:from-gray-500 hover:to-gray-600 text-white font-semibold py-3 px-6 rounded-xl transition-all duration-200 transform hover:scale-105 shadow-lg\",children:\"Cancel\"}),/*#__PURE__*/_jsx(\"button\",{onClick:onConfirm,className:\"flex-1 bg-gradient-to-r from-green-600 to-green-700 hover:from-green-500 hover:to-green-600 text-white font-semibold py-3 px-6 rounded-xl transition-all duration-200 transform hover:scale-105 shadow-lg\",children:\"Confirm\"})]})]})})});}function TodayView(){const[tasks,setTasks]=useState([]);const[lists,setLists]=useState([]);const[newTask,setNewTask]=useState(\"\");const[newTaskDueDate,setNewTaskDueDate]=useState(\"\");const[selectedList,setSelectedList]=useState(null);const[selectedPriority,setSelectedPriority]=useState(\"MEDIUM\");const[showPriorityDropdown,setShowPriorityDropdown]=useState(false);const[loading,setLoading]=useState(false);const[error,setError]=useState(null);// Ref for priority dropdown positioning\nconst priorityDropdownRef=useRef(null);// Delete confirmation modal state\nconst[deleteModal,setDeleteModal]=useState({isOpen:false,taskId:null,taskTitle:\"\"});// Warning modal state for task completion\nconst[warningModal,setWarningModal]=useState({isOpen:false,taskId:null,taskTitle:\"\",currentStatus:\"\"});// Success confirmation modal state\nconst[successModal,setSuccessModal]=useState({isOpen:false,title:\"\",message:\"\",itemName:\"\",onConfirm:null});const fetchTodayTasks=useCallback(async()=>{try{console.log(\"Fetching today's tasks...\");setLoading(true);setError(null);const res=await tasksAPI.getToday();console.log(\"Today's tasks response:\",res.data);setTasks(res.data);}catch(err){var _err$response,_err$response2;console.error(\"Error fetching today's tasks:\",err);if(((_err$response=err.response)===null||_err$response===void 0?void 0:_err$response.status)===401||((_err$response2=err.response)===null||_err$response2===void 0?void 0:_err$response2.status)===403){setError(\"Session expired. Please login again.\");}else{setError(\"Failed to load today's tasks\");}}finally{setLoading(false);}},[]);const fetchLists=async()=>{try{const res=await listsAPI.getAll();setLists(res.data);}catch(err){var _err$response3,_err$response4;console.error(\"Error fetching lists:\",err);if(((_err$response3=err.response)===null||_err$response3===void 0?void 0:_err$response3.status)===401||((_err$response4=err.response)===null||_err$response4===void 0?void 0:_err$response4.status)===403){console.log(\"Authentication error in fetchLists\");}}};useEffect(()=>{console.log(\"TodayView mounted, fetching tasks and lists...\");fetchTodayTasks();fetchLists();},[fetchTodayTasks]);// Close priority dropdown when clicking outside\nuseEffect(()=>{const handleClickOutside=event=>{if(showPriorityDropdown){// Check if click is on the dropdown button or dropdown options\nconst isDropdownButton=event.target.closest('.priority-dropdown');const isDropdownOption=event.target.closest('[data-priority-option]');if(!isDropdownButton&&!isDropdownOption){console.log(\"Click outside detected, closing dropdown\");setShowPriorityDropdown(false);}}};if(showPriorityDropdown){document.addEventListener('mousedown',handleClickOutside);return()=>{document.removeEventListener('mousedown',handleClickOutside);};}},[showPriorityDropdown]);const addTask=async e=>{e.preventDefault();if(!newTask.trim())return;// Show confirmation modal\nsetSuccessModal({isOpen:true,title:\"Add New Task\",message:\"Are you sure you want to add the task\",itemName:newTask,onConfirm:async()=>{try{console.log(\"Creating task with priority:\",selectedPriority);const taskData={title:newTask,priority:selectedPriority};if(newTaskDueDate){// Create a proper date object and set it to end of day (23:59:59)\nconst selectedDate=new Date(newTaskDueDate);selectedDate.setHours(23,59,59,999);// Format as ISO string without timezone to avoid parsing issues\nconst year=selectedDate.getFullYear();const month=String(selectedDate.getMonth()+1).padStart(2,'0');const day=String(selectedDate.getDate()).padStart(2,'0');const hours=String(selectedDate.getHours()).padStart(2,'0');const minutes=String(selectedDate.getMinutes()).padStart(2,'0');const seconds=String(selectedDate.getSeconds()).padStart(2,'0');const milliseconds=String(selectedDate.getMilliseconds()).padStart(3,'0');taskData.dueDate=\"\".concat(year,\"-\").concat(month,\"-\").concat(day,\"T\").concat(hours,\":\").concat(minutes,\":\").concat(seconds,\".\").concat(milliseconds);console.log(\"Selected date:\",newTaskDueDate);console.log(\"Processed date:\",selectedDate);console.log(\"ISO string:\",taskData.dueDate);}if(selectedList){taskData.taskListId=selectedList.id;}console.log(\"Task data being sent:\",taskData);const response=await tasksAPI.create(taskData);console.log(\"Task created successfully:\",response.data);setNewTask(\"\");setNewTaskDueDate(\"\");setSelectedPriority(\"MEDIUM\");fetchTodayTasks();// Close modal after successful creation\nsetSuccessModal({isOpen:false,title:\"\",message:\"\",itemName:\"\",onConfirm:null});}catch(err){var _err$response5,_err$response6;console.error(\"Error adding task:\",err);if(((_err$response5=err.response)===null||_err$response5===void 0?void 0:_err$response5.status)===401||((_err$response6=err.response)===null||_err$response6===void 0?void 0:_err$response6.status)===403){setError(\"Session expired. Please login again.\");}else{setError(\"Failed to add task. Please try again.\");}// Close modal on error\nsetSuccessModal({isOpen:false,title:\"\",message:\"\",itemName:\"\",onConfirm:null});}}});};const toggleComplete=async(taskId,currentStatus)=>{if(currentStatus==='COMPLETED'){// If already completed, just toggle back to pending without warning\ntry{await tasksAPI.update(taskId,{status:'PENDING'});fetchTodayTasks();}catch(err){console.error(\"Error updating task:\",err);setError(\"Failed to update task\");}}else{var _tasks$find;// Show warning before marking as completed\nsetWarningModal({isOpen:true,taskId:taskId,taskTitle:((_tasks$find=tasks.find(t=>t.id===taskId))===null||_tasks$find===void 0?void 0:_tasks$find.title)||\"this task\",currentStatus:currentStatus});}};const handleCompleteConfirm=async()=>{try{await tasksAPI.update(warningModal.taskId,{status:'COMPLETED'});fetchTodayTasks();setWarningModal({isOpen:false,taskId:null,taskTitle:\"\",currentStatus:\"\"});}catch(err){console.error(\"Error updating task:\",err);setError(\"Failed to update task\");}};// Auto-delete completed tasks after 48 hours\nconst cleanupCompletedTasks=useCallback(async()=>{try{const fortyEightHoursAgo=new Date();fortyEightHoursAgo.setHours(fortyEightHoursAgo.getHours()-48);const tasksToDelete=tasks.filter(task=>task.status==='COMPLETED'&&task.completedAt&&new Date(task.completedAt)<fortyEightHoursAgo);for(const task of tasksToDelete){await tasksAPI.delete(task.id);}if(tasksToDelete.length>0){fetchTodayTasks();}}catch(err){console.error(\"Error cleaning up completed tasks:\",err);}},[tasks,fetchTodayTasks]);// Run cleanup every hour\nuseEffect(()=>{const cleanupInterval=setInterval(cleanupCompletedTasks,60*60*1000);// 1 hour\nreturn()=>clearInterval(cleanupInterval);},[cleanupCompletedTasks]);// Updated delete function with confirmation\nconst handleDeleteClick=(taskId,taskTitle)=>{console.log(\"Delete button clicked for task:\",taskId,taskTitle);setDeleteModal({isOpen:true,taskId:taskId,taskTitle:taskTitle});};const confirmDelete=async()=>{console.log(\"Confirming delete for task:\",deleteModal.taskId);try{await tasksAPI.delete(deleteModal.taskId);console.log(\"Task deleted successfully\");setDeleteModal({isOpen:false,taskId:null,taskTitle:\"\"});fetchTodayTasks();}catch(err){console.error(\"Error deleting task:\",err);setError(\"Failed to delete task\");setDeleteModal({isOpen:false,taskId:null,taskTitle:\"\"});}};const cancelDelete=()=>{console.log(\"Delete cancelled\");setDeleteModal({isOpen:false,taskId:null,taskTitle:\"\"});};const closeSuccessModal=()=>{setSuccessModal({isOpen:false,title:\"\",message:\"\",itemName:\"\",onConfirm:null});};const getPriorityColor=priority=>{switch(priority===null||priority===void 0?void 0:priority.toUpperCase()){case\"HIGH\":return\"text-red-500\";case\"MEDIUM\":return\"text-orange-500\";case\"LOW\":return\"text-green-500\";case\"URGENT\":return\"text-red-600\";default:return\"text-gray-500\";}};const getPriorityText=priority=>{return(priority===null||priority===void 0?void 0:priority.toLowerCase().charAt(0).toUpperCase())+(priority===null||priority===void 0?void 0:priority.toLowerCase().slice(1))||\"Medium\";};const sortedTasks=[...tasks].sort((a,b)=>{var _b$priority,_a$priority;const priorityOrder={HIGH:4,URGENT:3,MEDIUM:2,LOW:1};return priorityOrder[(_b$priority=b.priority)===null||_b$priority===void 0?void 0:_b$priority.toUpperCase()]-priorityOrder[(_a$priority=a.priority)===null||_a$priority===void 0?void 0:_a$priority.toUpperCase()];});const formatDueDate=dueDate=>{if(!dueDate)return\"No due date\";const date=new Date(dueDate);if(isToday(date))return\"Today\";if(isTomorrow(date))return\"Tomorrow\";if(isPast(date))return\"Overdue - \".concat(format(date,'MMM d'));if(isThisWeek(date))return format(date,'EEEE');return format(date,'MMM d, yyyy');};const getDueDateColor=dueDate=>{if(!dueDate)return\"text-gray-500\";const date=new Date(dueDate);if(isPast(date))return\"text-red-500\";if(isToday(date))return\"text-orange-500\";if(isTomorrow(date))return\"text-blue-500\";return\"text-gray-400\";};return/*#__PURE__*/_jsx(\"div\",{className:\"max-w-6xl mx-auto p-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"relative\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"absolute inset-0 bg-gradient-to-br from-blue-600 via-indigo-700 to-purple-800 opacity-20 rounded-3xl blur-3xl animate-pulse\"}),/*#__PURE__*/_jsx(\"div\",{className:\"absolute inset-0 bg-gradient-to-tl from-indigo-500 via-purple-600 to-pink-700 opacity-15 rounded-3xl blur-3xl animate-pulse\",style:{animationDelay:'1s'}}),/*#__PURE__*/_jsxs(\"div\",{className:\"relative bg-gradient-to-br from-slate-800 via-slate-900 to-slate-800 rounded-3xl p-8 border border-slate-700 shadow-2xl overflow-hidden\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"absolute inset-0 opacity-10\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"absolute top-0 left-0 w-64 h-64 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full blur-3xl animate-pulse\"}),/*#__PURE__*/_jsx(\"div\",{className:\"absolute bottom-0 right-0 w-64 h-64 bg-gradient-to-tl from-indigo-500 to-pink-600 rounded-full blur-3xl animate-pulse\",style:{animationDelay:'2s'}}),/*#__PURE__*/_jsx(\"div\",{className:\"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-32 h-32 bg-gradient-to-r from-purple-500 to-pink-600 rounded-full blur-2xl animate-pulse\",style:{animationDelay:'1.5s'}})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"relative z-10\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-center mb-8\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-center mb-6\",children:/*#__PURE__*/_jsx(\"div\",{className:\"w-20 h-20 bg-gradient-to-br from-blue-500 via-indigo-600 to-purple-700 rounded-2xl flex items-center justify-center shadow-2xl transform hover:scale-105 transition-transform duration-300\",children:/*#__PURE__*/_jsx(\"svg\",{className:\"w-10 h-10 text-white\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4\"})})})}),/*#__PURE__*/_jsx(\"h1\",{className:\"text-6xl font-bold mb-4 bg-gradient-to-r from-blue-400 via-indigo-400 to-purple-400 bg-clip-text text-transparent animate-pulse\",children:\"Today's Tasks\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-slate-300 text-xl font-medium mb-6\",children:new Date().toLocaleDateString('en-US',{weekday:'long',year:'numeric',month:'long',day:'numeric'})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-center space-x-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-3 h-3 bg-gradient-to-r from-blue-500 to-indigo-500 rounded-full animate-pulse shadow-lg\"}),/*#__PURE__*/_jsx(\"div\",{className:\"w-3 h-3 bg-gradient-to-r from-indigo-500 to-purple-500 rounded-full animate-pulse shadow-lg\",style:{animationDelay:'0.3s'}}),/*#__PURE__*/_jsx(\"div\",{className:\"w-3 h-3 bg-gradient-to-r from-purple-500 to-pink-500 rounded-full animate-pulse shadow-lg\",style:{animationDelay:'0.6s'}}),/*#__PURE__*/_jsx(\"div\",{className:\"w-3 h-3 bg-gradient-to-r from-pink-500 to-rose-500 rounded-full animate-pulse shadow-lg\",style:{animationDelay:'0.9s'}})]})]}),error&&/*#__PURE__*/_jsx(\"div\",{className:\"bg-gradient-to-r from-red-500 to-red-600 text-white p-4 rounded-xl mb-6 shadow-lg border border-red-400\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"svg\",{className:\"w-5 h-5 mr-2\",fill:\"currentColor\",viewBox:\"0 0 20 20\",children:/*#__PURE__*/_jsx(\"path\",{fillRule:\"evenodd\",d:\"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z\",clipRule:\"evenodd\"})}),error]})}),/*#__PURE__*/_jsx(\"div\",{className:\"mb-12\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gradient-to-r from-gray-800 to-gray-900 rounded-2xl p-8 shadow-2xl border border-gray-700 relative overflow-hidden\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"absolute inset-0 opacity-5\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"absolute top-0 left-0 w-32 h-32 bg-blue-500 rounded-full blur-3xl\"}),/*#__PURE__*/_jsx(\"div\",{className:\"absolute bottom-0 right-0 w-32 h-32 bg-purple-500 rounded-full blur-3xl\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"relative\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-6 text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"inline-flex items-center justify-center w-12 h-12 bg-gradient-to-r from-blue-500 to-purple-600 rounded-xl mb-4 shadow-lg\",children:/*#__PURE__*/_jsx(\"svg\",{className:\"w-6 h-6 text-white\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M12 6v6m0 0v6m0-6h6m-6 0H6\"})})}),/*#__PURE__*/_jsx(\"h2\",{className:\"text-3xl font-bold text-white mb-2\",children:\"Add New Task\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-400 text-lg\",children:\"Create a new task to add to your today's list\"})]}),/*#__PURE__*/_jsx(\"form\",{onSubmit:addTask,children:/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4 mb-4\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"What needs to be done?\",value:newTask,onChange:e=>setNewTask(e.target.value),className:\"px-4 py-4 bg-gray-700 border border-gray-600 rounded-xl text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200 shadow-lg\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"relative\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"date\",value:newTaskDueDate,onChange:e=>setNewTaskDueDate(e.target.value),min:new Date().toISOString().split('T')[0],className:\"px-4 py-4 bg-gray-700 border border-gray-600 rounded-xl text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200 shadow-lg w-full\",placeholder:\"Select due date\"}),/*#__PURE__*/_jsx(\"div\",{className:\"absolute right-3 top-1/2 transform -translate-y-1/2 pointer-events-none\",children:/*#__PURE__*/_jsx(\"svg\",{className:\"w-5 h-5 text-gray-400\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z\"})})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-wrap gap-2 mt-2\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:()=>setNewTaskDueDate(new Date().toISOString().split('T')[0]),className:\"px-3 py-1 bg-blue-600 hover:bg-blue-700 text-white text-sm rounded-lg transition-colors duration-200\",children:\"Today\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:()=>{const tomorrow=new Date();tomorrow.setDate(tomorrow.getDate()+1);setNewTaskDueDate(tomorrow.toISOString().split('T')[0]);},className:\"px-3 py-1 bg-green-600 hover:bg-green-700 text-white text-sm rounded-lg transition-colors duration-200\",children:\"Tomorrow\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:()=>{const nextWeek=new Date();nextWeek.setDate(nextWeek.getDate()+7);setNewTaskDueDate(nextWeek.toISOString().split('T')[0]);},className:\"px-3 py-1 bg-purple-600 hover:bg-purple-700 text-white text-sm rounded-lg transition-colors duration-200\",children:\"Next Week\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:()=>setNewTaskDueDate(\"\"),className:\"px-3 py-1 bg-gray-600 hover:bg-gray-700 text-white text-sm rounded-lg transition-colors duration-200\",children:\"Clear\"})]}),/*#__PURE__*/_jsxs(\"select\",{value:(selectedList===null||selectedList===void 0?void 0:selectedList.id)||\"\",onChange:e=>{const list=lists.find(l=>l.id===parseInt(e.target.value));setSelectedList(list||null);},className:\"px-4 py-4 bg-gray-700 border border-gray-600 rounded-xl text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200 shadow-lg\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"\\uD83D\\uDCC1 No List\"}),lists.map(list=>/*#__PURE__*/_jsxs(\"option\",{value:list.id,children:[\"\\uD83D\\uDCC1 \",list.name]},list.id))]}),/*#__PURE__*/_jsx(\"div\",{className:\"relative priority-dropdown\",ref:priorityDropdownRef,children:/*#__PURE__*/_jsxs(\"button\",{type:\"button\",onClick:e=>{e.preventDefault();e.stopPropagation();console.log(\"Dropdown toggle clicked, current state:\",showPriorityDropdown);setShowPriorityDropdown(!showPriorityDropdown);},className:\"w-full px-4 py-4 bg-gray-700 border border-gray-600 rounded-xl text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200 flex items-center justify-between shadow-lg\",children:[/*#__PURE__*/_jsx(\"span\",{className:selectedPriority===\"LOW\"?\"text-green-500\":selectedPriority===\"MEDIUM\"?\"text-orange-500\":selectedPriority===\"HIGH\"?\"text-red-500\":\"text-red-600\",children:selectedPriority===\"LOW\"?\"ðŸŸ¢ Low\":selectedPriority===\"MEDIUM\"?\"ðŸŸ  Medium\":selectedPriority===\"HIGH\"?\"ðŸ”´ High\":\"ðŸš¨ Urgent\"}),/*#__PURE__*/_jsx(\"svg\",{className:\"w-4 h-4 text-gray-400\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M19 9l-7 7-7-7\"})})]})}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white px-6 py-4 rounded-xl font-semibold transition-all duration-200 transform hover:scale-105 shadow-lg hover:shadow-xl\",children:\"\\u2795 Add Task\"})]})})]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"mb-12\",children:loading?/*#__PURE__*/_jsxs(\"div\",{className:\"text-center text-gray-400 py-16\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"relative\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-16 h-16 border-4 border-gray-700 border-t-blue-500 rounded-full animate-spin mx-auto mb-6\"}),/*#__PURE__*/_jsx(\"div\",{className:\"absolute inset-0 w-16 h-16 border-4 border-transparent border-t-purple-500 rounded-full animate-spin mx-auto\",style:{animationDelay:'0.5s'}})]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xl font-medium\",children:\"Loading your tasks...\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-500 mt-2\",children:\"Preparing your productivity dashboard\"})]}):sortedTasks.length===0?/*#__PURE__*/_jsxs(\"div\",{className:\"text-center text-gray-400 py-20 bg-gradient-to-r from-gray-800 to-gray-900 rounded-2xl border border-gray-700 shadow-2xl\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-8xl mb-6\",children:\"\\u2728\"}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-2xl font-bold text-white mb-3\",children:\"No tasks for today!\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-lg mb-4\",children:\"You're all caught up. Time to add some new tasks above!\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-center space-x-2\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-3 h-3 bg-blue-500 rounded-full animate-bounce\"}),/*#__PURE__*/_jsx(\"div\",{className:\"w-3 h-3 bg-purple-500 rounded-full animate-bounce\",style:{animationDelay:'0.1s'}}),/*#__PURE__*/_jsx(\"div\",{className:\"w-3 h-3 bg-pink-500 rounded-full animate-bounce\",style:{animationDelay:'0.2s'}})]})]}):/*#__PURE__*/_jsx(\"div\",{className:\"space-y-4\",children:sortedTasks.map(task=>/*#__PURE__*/_jsx(\"div\",{className:\"bg-gradient-to-r from-gray-700 to-gray-800 rounded-xl p-4 border-l-4 transition-all duration-300 hover:from-gray-650 hover:to-gray-750 shadow-lg hover:shadow-xl \".concat(task.status==='COMPLETED'?'border-green-500 opacity-75':task.priority==='HIGH'?'border-red-500':task.priority==='MEDIUM'?'border-orange-500':'border-blue-500'),children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-4 flex-1\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:e=>{e.stopPropagation();e.preventDefault();toggleComplete(task.id,task.status);},className:\"w-8 h-8 rounded-full border-2 transition-all duration-300 hover:scale-110 flex items-center justify-center cursor-pointer focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-offset-2 focus:ring-offset-gray-800 \".concat(task.status==='COMPLETED'?'bg-gradient-to-r from-green-500 to-green-600 border-green-500 shadow-lg':'border-gray-400 hover:border-green-500 hover:shadow-md hover:bg-gray-700'),\"aria-label\":task.status==='COMPLETED'?'Mark as incomplete':'Mark as complete',children:task.status==='COMPLETED'&&/*#__PURE__*/_jsx(\"svg\",{className:\"w-5 h-5 text-white\",fill:\"currentColor\",viewBox:\"0 0 20 20\",children:/*#__PURE__*/_jsx(\"path\",{fillRule:\"evenodd\",d:\"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z\",clipRule:\"evenodd\"})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-medium transition-all duration-200 \".concat(task.status==='COMPLETED'?'text-gray-500 line-through':'text-white'),children:task.title}),task.description&&/*#__PURE__*/_jsx(\"p\",{className:\"text-sm mt-1 \".concat(task.status==='COMPLETED'?'text-gray-600':'text-gray-400'),children:task.description}),/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center mt-3 space-x-4\",children:/*#__PURE__*/_jsxs(\"span\",{className:\"text-xs font-medium \".concat(getDueDateColor(task.dueDate)),children:[\"\\uD83D\\uDCC5 \",formatDueDate(task.dueDate)]})})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-4\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm font-medium px-3 py-1 rounded-full bg-gray-800 border border-gray-600 \".concat(getPriorityColor(task.priority)),children:getPriorityText(task.priority)}),/*#__PURE__*/_jsx(\"button\",{onClick:e=>{e.stopPropagation();e.preventDefault();handleDeleteClick(task.id,task.title);},className:\"text-red-400 hover:text-red-300 transition-colors duration-200 p-2 rounded-full hover:bg-red-900 hover:bg-opacity-20 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2 focus:ring-offset-gray-800 cursor-pointer\",\"aria-label\":\"Delete task\",children:/*#__PURE__*/_jsx(\"svg\",{className:\"w-5 h-5\",fill:\"currentColor\",viewBox:\"0 0 20 20\",children:/*#__PURE__*/_jsx(\"path\",{fillRule:\"evenodd\",d:\"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z\",clipRule:\"evenodd\"})})})]})]})},task.id))})}),showPriorityDropdown&&priorityDropdownRef.current&&(()=>{const rect=priorityDropdownRef.current.getBoundingClientRect();return/*#__PURE__*/_jsxs(\"div\",{className:\"fixed z-[9999] bg-gray-700 border border-gray-600 rounded-xl shadow-2xl\",style:{top:rect.bottom+8,left:rect.left,width:rect.width},children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",\"data-priority-option\":\"true\",onClick:e=>{e.preventDefault();e.stopPropagation();console.log(\"Setting priority to LOW\");setSelectedPriority(\"LOW\");setShowPriorityDropdown(false);},className:\"w-full px-4 py-3 text-green-500 hover:bg-gray-600 cursor-pointer transition-colors rounded-t-xl text-left\",children:\"\\uD83D\\uDFE2 Low\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",\"data-priority-option\":\"true\",onClick:e=>{e.preventDefault();e.stopPropagation();console.log(\"Setting priority to MEDIUM\");setSelectedPriority(\"MEDIUM\");setShowPriorityDropdown(false);},className:\"w-full px-4 py-3 text-orange-500 hover:bg-gray-600 cursor-pointer transition-colors text-left\",children:\"\\uD83D\\uDFE0 Medium\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",\"data-priority-option\":\"true\",onClick:e=>{e.preventDefault();e.stopPropagation();console.log(\"Setting priority to HIGH\");setSelectedPriority(\"HIGH\");setShowPriorityDropdown(false);},className:\"w-full px-4 py-3 text-red-500 hover:bg-gray-600 cursor-pointer transition-colors text-left\",children:\"\\uD83D\\uDD34 High\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",\"data-priority-option\":\"true\",onClick:e=>{e.preventDefault();e.stopPropagation();console.log(\"Setting priority to URGENT\");setSelectedPriority(\"URGENT\");setShowPriorityDropdown(false);},className:\"w-full px-4 py-3 text-red-600 hover:bg-gray-600 cursor-pointer transition-colors rounded-b-xl text-left\",children:\"\\uD83D\\uDEA8 Urgent\"})]});})(),/*#__PURE__*/_jsx(DeleteConfirmationModal,{isOpen:deleteModal.isOpen,onClose:cancelDelete,onConfirm:confirmDelete,taskTitle:deleteModal.taskTitle}),warningModal.isOpen&&/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-[99999]\",children:/*#__PURE__*/_jsx(\"div\",{className:\"bg-gradient-to-br from-gray-800 to-gray-900 rounded-2xl p-8 max-w-md w-full mx-4 border border-gray-700 shadow-2xl\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"mx-auto flex items-center justify-center h-16 w-16 rounded-full bg-yellow-500 bg-opacity-20 mb-6\",children:/*#__PURE__*/_jsx(\"svg\",{className:\"h-8 w-8 text-yellow-400\",fill:\"currentColor\",viewBox:\"0 0 20 20\",children:/*#__PURE__*/_jsx(\"path\",{fillRule:\"evenodd\",d:\"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z\",clipRule:\"evenodd\"})})}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl font-bold text-white mb-4\",children:\"Mark Task as Completed\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-gray-300 mb-6\",children:[\"Are you sure you want to mark \",/*#__PURE__*/_jsxs(\"span\",{className:\"font-semibold text-white\",children:[\"\\\"\",warningModal.taskTitle,\"\\\"\"]}),\" as completed?\",/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"span\",{className:\"text-yellow-400 text-sm mt-2 block\",children:\"\\u26A0\\uFE0F This task will be automatically removed after 48 hours.\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex space-x-4\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setWarningModal({isOpen:false,taskId:null,taskTitle:\"\",currentStatus:\"\"}),className:\"flex-1 px-6 py-3 bg-gray-600 hover:bg-gray-500 text-white font-medium rounded-xl transition-all duration-200 hover:shadow-lg\",children:\"Cancel\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleCompleteConfirm,className:\"flex-1 px-6 py-3 bg-gradient-to-r from-green-500 to-green-600 hover:from-green-600 hover:to-green-700 text-white font-medium rounded-xl transition-all duration-200 hover:shadow-lg\",children:\"Complete Task\"})]})]})})}),/*#__PURE__*/_jsx(SuccessConfirmationModal,{isOpen:successModal.isOpen,onClose:closeSuccessModal,onConfirm:successModal.onConfirm,title:successModal.title,message:successModal.message,itemName:successModal.itemName})]})]})]})});}export default TodayView;","map":{"version":3,"names":["React","useState","useEffect","useRef","useCallback","tasksAPI","listsAPI","format","isToday","isTomorrow","isThisWeek","isPast","jsx","_jsx","jsxs","_jsxs","DeleteConfirmationModal","_ref","isOpen","onClose","onConfirm","taskTitle","console","log","className","children","fill","viewBox","fillRule","d","clipRule","onClick","SuccessConfirmationModal","_ref2","title","message","itemName","TodayView","tasks","setTasks","lists","setLists","newTask","setNewTask","newTaskDueDate","setNewTaskDueDate","selectedList","setSelectedList","selectedPriority","setSelectedPriority","showPriorityDropdown","setShowPriorityDropdown","loading","setLoading","error","setError","priorityDropdownRef","deleteModal","setDeleteModal","taskId","warningModal","setWarningModal","currentStatus","successModal","setSuccessModal","fetchTodayTasks","res","getToday","data","err","_err$response","_err$response2","response","status","fetchLists","getAll","_err$response3","_err$response4","handleClickOutside","event","isDropdownButton","target","closest","isDropdownOption","document","addEventListener","removeEventListener","addTask","e","preventDefault","trim","taskData","priority","selectedDate","Date","setHours","year","getFullYear","month","String","getMonth","padStart","day","getDate","hours","getHours","minutes","getMinutes","seconds","getSeconds","milliseconds","getMilliseconds","dueDate","concat","taskListId","id","create","_err$response5","_err$response6","toggleComplete","update","_tasks$find","find","t","handleCompleteConfirm","cleanupCompletedTasks","fortyEightHoursAgo","tasksToDelete","filter","task","completedAt","delete","length","cleanupInterval","setInterval","clearInterval","handleDeleteClick","confirmDelete","cancelDelete","closeSuccessModal","getPriorityColor","toUpperCase","getPriorityText","toLowerCase","charAt","slice","sortedTasks","sort","a","b","_b$priority","_a$priority","priorityOrder","HIGH","URGENT","MEDIUM","LOW","formatDueDate","date","getDueDateColor","style","animationDelay","stroke","strokeLinecap","strokeLinejoin","strokeWidth","toLocaleDateString","weekday","onSubmit","type","placeholder","value","onChange","min","toISOString","split","tomorrow","setDate","nextWeek","list","l","parseInt","map","name","ref","stopPropagation","description","current","rect","getBoundingClientRect","top","bottom","left","width"],"sources":["/Users/mehan/Documents/task-manager-frontend/frontend/src/components/TodayView.js"],"sourcesContent":["import React, { useState, useEffect, useRef, useCallback } from \"react\";\nimport { tasksAPI, listsAPI } from \"../services/api\";\nimport { format, isToday, isTomorrow, isThisWeek, isPast } from \"date-fns\";\n\n// Delete Confirmation Modal Component\nfunction DeleteConfirmationModal({ isOpen, onClose, onConfirm, taskTitle }) {\n  console.log(\"DeleteConfirmationModal render - isOpen:\", isOpen, \"taskTitle:\", taskTitle);\n  if (!isOpen) return null;\n\n  return (\n    <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-[99999]\">\n      <div className=\"bg-gradient-to-r from-gray-800 to-gray-900 rounded-2xl p-8 max-w-md w-full mx-4 border border-gray-700 shadow-2xl\">\n        <div className=\"text-center\">\n          {/* Warning Icon */}\n          <div className=\"w-16 h-16 bg-gradient-to-r from-red-500 to-red-600 rounded-full flex items-center justify-center mx-auto mb-6 shadow-lg\">\n            <svg className=\"w-8 h-8 text-white\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\n              <path fillRule=\"evenodd\" d=\"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z\" clipRule=\"evenodd\" />\n            </svg>\n          </div>\n          \n          <h3 className=\"text-2xl font-bold text-white mb-4\">Delete Task</h3>\n          <p className=\"text-gray-300 mb-6\">\n            Are you sure you want to delete <span className=\"font-semibold text-white\">\"{taskTitle}\"</span>? \n            This action cannot be undone.\n          </p>\n          \n          <div className=\"flex space-x-4\">\n            <button\n              onClick={onClose}\n              className=\"flex-1 bg-gradient-to-r from-gray-600 to-gray-700 hover:from-gray-500 hover:to-gray-600 text-white font-semibold py-3 px-6 rounded-xl transition-all duration-200 transform hover:scale-105 shadow-lg\"\n            >\n              Cancel\n            </button>\n            <button\n              onClick={onConfirm}\n              className=\"flex-1 bg-gradient-to-r from-red-600 to-red-700 hover:from-red-500 hover:to-red-600 text-white font-semibold py-3 px-6 rounded-xl transition-all duration-200 transform hover:scale-105 shadow-lg\"\n            >\n              Delete\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\n// Success Confirmation Modal Component\nfunction SuccessConfirmationModal({ isOpen, onClose, title, message, itemName, onConfirm }) {\n  if (!isOpen) return null;\n\n  return (\n    <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-[99999]\">\n      <div className=\"bg-gradient-to-r from-gray-800 to-gray-900 rounded-2xl p-8 max-w-md w-full mx-4 border border-gray-700 shadow-2xl\">\n        <div className=\"text-center\">\n          {/* Success Icon */}\n          <div className=\"w-16 h-16 bg-gradient-to-r from-green-500 to-green-600 rounded-full flex items-center justify-center mx-auto mb-6 shadow-lg\">\n            <svg className=\"w-8 h-8 text-white\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\n              <path fillRule=\"evenodd\" d=\"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z\" clipRule=\"evenodd\" />\n            </svg>\n          </div>\n          \n          <h3 className=\"text-2xl font-bold text-white mb-4\">{title}</h3>\n          <p className=\"text-gray-300 mb-6\">\n            {message} <span className=\"font-semibold text-white\">\"{itemName}\"</span>?\n          </p>\n          \n          <div className=\"flex space-x-4\">\n            <button\n              onClick={onClose}\n              className=\"flex-1 bg-gradient-to-r from-gray-600 to-gray-700 hover:from-gray-500 hover:to-gray-600 text-white font-semibold py-3 px-6 rounded-xl transition-all duration-200 transform hover:scale-105 shadow-lg\"\n            >\n              Cancel\n            </button>\n            <button\n              onClick={onConfirm}\n              className=\"flex-1 bg-gradient-to-r from-green-600 to-green-700 hover:from-green-500 hover:to-green-600 text-white font-semibold py-3 px-6 rounded-xl transition-all duration-200 transform hover:scale-105 shadow-lg\"\n            >\n              Confirm\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nfunction TodayView() {\n  const [tasks, setTasks] = useState([]);\n  const [lists, setLists] = useState([]);\n  const [newTask, setNewTask] = useState(\"\");\n  const [newTaskDueDate, setNewTaskDueDate] = useState(\"\");\n  const [selectedList, setSelectedList] = useState(null);\n  const [selectedPriority, setSelectedPriority] = useState(\"MEDIUM\");\n  const [showPriorityDropdown, setShowPriorityDropdown] = useState(false);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n  \n  // Ref for priority dropdown positioning\n  const priorityDropdownRef = useRef(null);\n  \n  // Delete confirmation modal state\n  const [deleteModal, setDeleteModal] = useState({\n    isOpen: false,\n    taskId: null,\n    taskTitle: \"\"\n  });\n\n  // Warning modal state for task completion\n  const [warningModal, setWarningModal] = useState({\n    isOpen: false,\n    taskId: null,\n    taskTitle: \"\",\n    currentStatus: \"\"\n  });\n\n  // Success confirmation modal state\n  const [successModal, setSuccessModal] = useState({\n    isOpen: false,\n    title: \"\",\n    message: \"\",\n    itemName: \"\",\n    onConfirm: null\n  });\n\n  const fetchTodayTasks = useCallback(async () => {\n    try {\n      console.log(\"Fetching today's tasks...\");\n      setLoading(true);\n      setError(null);\n      const res = await tasksAPI.getToday();\n      console.log(\"Today's tasks response:\", res.data);\n      setTasks(res.data);\n    } catch (err) {\n      console.error(\"Error fetching today's tasks:\", err);\n      if (err.response?.status === 401 || err.response?.status === 403) {\n        setError(\"Session expired. Please login again.\");\n      } else {\n      setError(\"Failed to load today's tasks\");\n      }\n    } finally {\n      setLoading(false);\n    }\n  }, []);\n\n  const fetchLists = async () => {\n    try {\n      const res = await listsAPI.getAll();\n      setLists(res.data);\n    } catch (err) {\n      console.error(\"Error fetching lists:\", err);\n      if (err.response?.status === 401 || err.response?.status === 403) {\n        console.log(\"Authentication error in fetchLists\");\n      }\n    }\n  };\n\n  useEffect(() => {\n    console.log(\"TodayView mounted, fetching tasks and lists...\");\n    fetchTodayTasks();\n    fetchLists();\n  }, [fetchTodayTasks]);\n\n  // Close priority dropdown when clicking outside\n  useEffect(() => {\n    const handleClickOutside = (event) => {\n      if (showPriorityDropdown) {\n        // Check if click is on the dropdown button or dropdown options\n        const isDropdownButton = event.target.closest('.priority-dropdown');\n        const isDropdownOption = event.target.closest('[data-priority-option]');\n        \n        if (!isDropdownButton && !isDropdownOption) {\n          console.log(\"Click outside detected, closing dropdown\");\n          setShowPriorityDropdown(false);\n        }\n      }\n    };\n\n    if (showPriorityDropdown) {\n      document.addEventListener('mousedown', handleClickOutside);\n      return () => {\n        document.removeEventListener('mousedown', handleClickOutside);\n      };\n    }\n  }, [showPriorityDropdown]);\n\n  const addTask = async (e) => {\n    e.preventDefault();\n    if (!newTask.trim()) return;\n\n    // Show confirmation modal\n    setSuccessModal({\n      isOpen: true,\n      title: \"Add New Task\",\n      message: \"Are you sure you want to add the task\",\n      itemName: newTask,\n      onConfirm: async () => {\n        try {\n          console.log(\"Creating task with priority:\", selectedPriority);\n          const taskData = {\n        title: newTask,\n            priority: selectedPriority\n          };\n\n          if (newTaskDueDate) {\n            // Create a proper date object and set it to end of day (23:59:59)\n            const selectedDate = new Date(newTaskDueDate);\n            selectedDate.setHours(23, 59, 59, 999);\n            // Format as ISO string without timezone to avoid parsing issues\n            const year = selectedDate.getFullYear();\n            const month = String(selectedDate.getMonth() + 1).padStart(2, '0');\n            const day = String(selectedDate.getDate()).padStart(2, '0');\n            const hours = String(selectedDate.getHours()).padStart(2, '0');\n            const minutes = String(selectedDate.getMinutes()).padStart(2, '0');\n            const seconds = String(selectedDate.getSeconds()).padStart(2, '0');\n            const milliseconds = String(selectedDate.getMilliseconds()).padStart(3, '0');\n            \n            taskData.dueDate = `${year}-${month}-${day}T${hours}:${minutes}:${seconds}.${milliseconds}`;\n            console.log(\"Selected date:\", newTaskDueDate);\n            console.log(\"Processed date:\", selectedDate);\n            console.log(\"ISO string:\", taskData.dueDate);\n          }\n\n          if (selectedList) {\n            taskData.taskListId = selectedList.id;\n          }\n\n          console.log(\"Task data being sent:\", taskData);\n          const response = await tasksAPI.create(taskData);\n          console.log(\"Task created successfully:\", response.data);\n          \n      setNewTask(\"\");\n          setNewTaskDueDate(\"\");\n          setSelectedPriority(\"MEDIUM\");\n      fetchTodayTasks();\n          \n          // Close modal after successful creation\n          setSuccessModal({ isOpen: false, title: \"\", message: \"\", itemName: \"\", onConfirm: null });\n    } catch (err) {\n      console.error(\"Error adding task:\", err);\n          if (err.response?.status === 401 || err.response?.status === 403) {\n            setError(\"Session expired. Please login again.\");\n          } else {\n            setError(\"Failed to add task. Please try again.\");\n          }\n          // Close modal on error\n          setSuccessModal({ isOpen: false, title: \"\", message: \"\", itemName: \"\", onConfirm: null });\n        }\n      }\n    });\n  };\n\n  const toggleComplete = async (taskId, currentStatus) => {\n    if (currentStatus === 'COMPLETED') {\n      // If already completed, just toggle back to pending without warning\n      try {\n        await tasksAPI.update(taskId, { status: 'PENDING' });\n        fetchTodayTasks();\n      } catch (err) {\n        console.error(\"Error updating task:\", err);\n        setError(\"Failed to update task\");\n      }\n    } else {\n      // Show warning before marking as completed\n      setWarningModal({\n        isOpen: true,\n        taskId: taskId,\n        taskTitle: tasks.find(t => t.id === taskId)?.title || \"this task\",\n        currentStatus: currentStatus\n      });\n    }\n  };\n\n  const handleCompleteConfirm = async () => {\n    try {\n      await tasksAPI.update(warningModal.taskId, { status: 'COMPLETED' });\n      fetchTodayTasks();\n      setWarningModal({ isOpen: false, taskId: null, taskTitle: \"\", currentStatus: \"\" });\n    } catch (err) {\n      console.error(\"Error updating task:\", err);\n      setError(\"Failed to update task\");\n    }\n  };\n\n  // Auto-delete completed tasks after 48 hours\n  const cleanupCompletedTasks = useCallback(async () => {\n    try {\n      const fortyEightHoursAgo = new Date();\n      fortyEightHoursAgo.setHours(fortyEightHoursAgo.getHours() - 48);\n      \n      const tasksToDelete = tasks.filter(task => \n        task.status === 'COMPLETED' && \n        task.completedAt && \n        new Date(task.completedAt) < fortyEightHoursAgo\n      );\n\n      for (const task of tasksToDelete) {\n        await tasksAPI.delete(task.id);\n      }\n\n      if (tasksToDelete.length > 0) {\n        fetchTodayTasks();\n      }\n    } catch (err) {\n      console.error(\"Error cleaning up completed tasks:\", err);\n    }\n  }, [tasks, fetchTodayTasks]);\n\n  // Run cleanup every hour\n  useEffect(() => {\n    const cleanupInterval = setInterval(cleanupCompletedTasks, 60 * 60 * 1000); // 1 hour\n    return () => clearInterval(cleanupInterval);\n  }, [cleanupCompletedTasks]);\n\n  // Updated delete function with confirmation\n  const handleDeleteClick = (taskId, taskTitle) => {\n    console.log(\"Delete button clicked for task:\", taskId, taskTitle);\n    setDeleteModal({\n      isOpen: true,\n      taskId: taskId,\n      taskTitle: taskTitle\n    });\n  };\n\n  const confirmDelete = async () => {\n    console.log(\"Confirming delete for task:\", deleteModal.taskId);\n    try {\n      await tasksAPI.delete(deleteModal.taskId);\n      console.log(\"Task deleted successfully\");\n      setDeleteModal({ isOpen: false, taskId: null, taskTitle: \"\" });\n      fetchTodayTasks();\n    } catch (err) {\n      console.error(\"Error deleting task:\", err);\n      setError(\"Failed to delete task\");\n      setDeleteModal({ isOpen: false, taskId: null, taskTitle: \"\" });\n    }\n  };\n\n  const cancelDelete = () => {\n    console.log(\"Delete cancelled\");\n    setDeleteModal({ isOpen: false, taskId: null, taskTitle: \"\" });\n  };\n\n  const closeSuccessModal = () => {\n    setSuccessModal({ isOpen: false, title: \"\", message: \"\", itemName: \"\", onConfirm: null });\n  };\n\n  const getPriorityColor = (priority) => {\n    switch (priority?.toUpperCase()) {\n      case \"HIGH\": return \"text-red-500\";\n      case \"MEDIUM\": return \"text-orange-500\";\n      case \"LOW\": return \"text-green-500\";\n      case \"URGENT\": return \"text-red-600\";\n      default: return \"text-gray-500\";\n    }\n  };\n\n  const getPriorityText = (priority) => {\n    return priority?.toLowerCase().charAt(0).toUpperCase() + priority?.toLowerCase().slice(1) || \"Medium\";\n  };\n\n  const sortedTasks = [...tasks].sort((a, b) => {\n    const priorityOrder = { HIGH: 4, URGENT: 3, MEDIUM: 2, LOW: 1 };\n    return priorityOrder[b.priority?.toUpperCase()] - priorityOrder[a.priority?.toUpperCase()];\n  });\n\n  const formatDueDate = (dueDate) => {\n    if (!dueDate) return \"No due date\";\n    \n    const date = new Date(dueDate);\n    if (isToday(date)) return \"Today\";\n    if (isTomorrow(date)) return \"Tomorrow\";\n    if (isPast(date)) return `Overdue - ${format(date, 'MMM d')}`;\n    if (isThisWeek(date)) return format(date, 'EEEE');\n    return format(date, 'MMM d, yyyy');\n  };\n\n  const getDueDateColor = (dueDate) => {\n    if (!dueDate) return \"text-gray-500\";\n    \n    const date = new Date(dueDate);\n    if (isPast(date)) return \"text-red-500\";\n    if (isToday(date)) return \"text-orange-500\";\n    if (isTomorrow(date)) return \"text-blue-500\";\n    return \"text-gray-400\";\n  };\n\n  return (\n    <div className=\"max-w-6xl mx-auto p-6\">\n      {/* Main Content Box with Colored Background */}\n      <div className=\"relative\">\n        {/* Enhanced Background Artwork with Professional Gradient */}\n        <div className=\"absolute inset-0 bg-gradient-to-br from-blue-600 via-indigo-700 to-purple-800 opacity-20 rounded-3xl blur-3xl animate-pulse\"></div>\n        <div className=\"absolute inset-0 bg-gradient-to-tl from-indigo-500 via-purple-600 to-pink-700 opacity-15 rounded-3xl blur-3xl animate-pulse\" style={{animationDelay: '1s'}}></div>\n        \n        {/* Main Container with Professional Gradient Background */}\n        <div className=\"relative bg-gradient-to-br from-slate-800 via-slate-900 to-slate-800 rounded-3xl p-8 border border-slate-700 shadow-2xl overflow-hidden\">\n          {/* Animated Background Pattern */}\n          <div className=\"absolute inset-0 opacity-10\">\n            <div className=\"absolute top-0 left-0 w-64 h-64 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full blur-3xl animate-pulse\"></div>\n            <div className=\"absolute bottom-0 right-0 w-64 h-64 bg-gradient-to-tl from-indigo-500 to-pink-600 rounded-full blur-3xl animate-pulse\" style={{animationDelay: '2s'}}></div>\n            <div className=\"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-32 h-32 bg-gradient-to-r from-purple-500 to-pink-600 rounded-full blur-2xl animate-pulse\" style={{animationDelay: '1.5s'}}></div>\n          </div>\n          \n          {/* Content */}\n          <div className=\"relative z-10\">\n            {/* Today's Tasks Header */}\n            <div className=\"text-center mb-8\">\n              <div className=\"flex items-center justify-center mb-6\">\n                <div className=\"w-20 h-20 bg-gradient-to-br from-blue-500 via-indigo-600 to-purple-700 rounded-2xl flex items-center justify-center shadow-2xl transform hover:scale-105 transition-transform duration-300\">\n                  <svg className=\"w-10 h-10 text-white\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4\" />\n                  </svg>\n                </div>\n              </div>\n              \n              <h1 className=\"text-6xl font-bold mb-4 bg-gradient-to-r from-blue-400 via-indigo-400 to-purple-400 bg-clip-text text-transparent animate-pulse\">\n                Today's Tasks\n              </h1>\n              \n              <p className=\"text-slate-300 text-xl font-medium mb-6\">\n          {new Date().toLocaleDateString('en-US', { \n            weekday: 'long', \n            year: 'numeric', \n            month: 'long', \n            day: 'numeric' \n          })}\n        </p>\n              \n              {/* Enhanced Animated Dots */}\n              <div className=\"flex justify-center space-x-3\">\n                <div className=\"w-3 h-3 bg-gradient-to-r from-blue-500 to-indigo-500 rounded-full animate-pulse shadow-lg\"></div>\n                <div className=\"w-3 h-3 bg-gradient-to-r from-indigo-500 to-purple-500 rounded-full animate-pulse shadow-lg\" style={{animationDelay: '0.3s'}}></div>\n                <div className=\"w-3 h-3 bg-gradient-to-r from-purple-500 to-pink-500 rounded-full animate-pulse shadow-lg\" style={{animationDelay: '0.6s'}}></div>\n                <div className=\"w-3 h-3 bg-gradient-to-r from-pink-500 to-rose-500 rounded-full animate-pulse shadow-lg\" style={{animationDelay: '0.9s'}}></div>\n              </div>\n      </div>\n\n      {error && (\n              <div className=\"bg-gradient-to-r from-red-500 to-red-600 text-white p-4 rounded-xl mb-6 shadow-lg border border-red-400\">\n                <div className=\"flex items-center\">\n                  <svg className=\"w-5 h-5 mr-2\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\n                    <path fillRule=\"evenodd\" d=\"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z\" clipRule=\"evenodd\" />\n                  </svg>\n          {error}\n                </div>\n        </div>\n      )}\n\n            {/* Enhanced Task Creation Section */}\n            <div className=\"mb-12\">\n              <div className=\"bg-gradient-to-r from-gray-800 to-gray-900 rounded-2xl p-8 shadow-2xl border border-gray-700 relative overflow-hidden\">\n                {/* Background Pattern */}\n                <div className=\"absolute inset-0 opacity-5\">\n                  <div className=\"absolute top-0 left-0 w-32 h-32 bg-blue-500 rounded-full blur-3xl\"></div>\n                  <div className=\"absolute bottom-0 right-0 w-32 h-32 bg-purple-500 rounded-full blur-3xl\"></div>\n                </div>\n                \n                <div className=\"relative\">\n                  <div className=\"mb-6 text-center\">\n                    <div className=\"inline-flex items-center justify-center w-12 h-12 bg-gradient-to-r from-blue-500 to-purple-600 rounded-xl mb-4 shadow-lg\">\n                      <svg className=\"w-6 h-6 text-white\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 6v6m0 0v6m0-6h6m-6 0H6\" />\n                      </svg>\n                    </div>\n                    <h2 className=\"text-3xl font-bold text-white mb-2\">Add New Task</h2>\n                    <p className=\"text-gray-400 text-lg\">Create a new task to add to your today's list</p>\n                  </div>\n\n                  <form onSubmit={addTask}>\n                    <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4 mb-4\">\n          <input\n            type=\"text\"\n                        placeholder=\"What needs to be done?\"\n            value={newTask}\n            onChange={(e) => setNewTask(e.target.value)}\n                        className=\"px-4 py-4 bg-gray-700 border border-gray-600 rounded-xl text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200 shadow-lg\"\n                      />\n                      <div className=\"relative\">\n                        <input\n                          type=\"date\"\n                          value={newTaskDueDate}\n                          onChange={(e) => setNewTaskDueDate(e.target.value)}\n                          min={new Date().toISOString().split('T')[0]}\n                          className=\"px-4 py-4 bg-gray-700 border border-gray-600 rounded-xl text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200 shadow-lg w-full\"\n                          placeholder=\"Select due date\"\n                        />\n                        <div className=\"absolute right-3 top-1/2 transform -translate-y-1/2 pointer-events-none\">\n                          <svg className=\"w-5 h-5 text-gray-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z\" />\n                          </svg>\n                        </div>\n                      </div>\n                      \n                      {/* Quick Date Selector */}\n                      <div className=\"flex flex-wrap gap-2 mt-2\">\n                        <button\n                          type=\"button\"\n                          onClick={() => setNewTaskDueDate(new Date().toISOString().split('T')[0])}\n                          className=\"px-3 py-1 bg-blue-600 hover:bg-blue-700 text-white text-sm rounded-lg transition-colors duration-200\"\n                        >\n                          Today\n                        </button>\n                        <button\n                          type=\"button\"\n                          onClick={() => {\n                            const tomorrow = new Date();\n                            tomorrow.setDate(tomorrow.getDate() + 1);\n                            setNewTaskDueDate(tomorrow.toISOString().split('T')[0]);\n                          }}\n                          className=\"px-3 py-1 bg-green-600 hover:bg-green-700 text-white text-sm rounded-lg transition-colors duration-200\"\n                        >\n                          Tomorrow\n                        </button>\n                        <button\n                          type=\"button\"\n                          onClick={() => {\n                            const nextWeek = new Date();\n                            nextWeek.setDate(nextWeek.getDate() + 7);\n                            setNewTaskDueDate(nextWeek.toISOString().split('T')[0]);\n                          }}\n                          className=\"px-3 py-1 bg-purple-600 hover:bg-purple-700 text-white text-sm rounded-lg transition-colors duration-200\"\n                        >\n                          Next Week\n                        </button>\n                        <button\n                          type=\"button\"\n                          onClick={() => setNewTaskDueDate(\"\")}\n                          className=\"px-3 py-1 bg-gray-600 hover:bg-gray-700 text-white text-sm rounded-lg transition-colors duration-200\"\n                        >\n                          Clear\n                        </button>\n                      </div>\n                      <select\n                        value={selectedList?.id || \"\"}\n                        onChange={(e) => {\n                          const list = lists.find(l => l.id === parseInt(e.target.value));\n                          setSelectedList(list || null);\n                        }}\n                        className=\"px-4 py-4 bg-gray-700 border border-gray-600 rounded-xl text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200 shadow-lg\"\n                      >\n                        <option value=\"\">ðŸ“ No List</option>\n                        {lists.map((list) => (\n                          <option key={list.id} value={list.id}>\n                            ðŸ“ {list.name}\n                          </option>\n                        ))}\n                      </select>\n                      <div className=\"relative priority-dropdown\" ref={priorityDropdownRef}>\n                        <button\n                          type=\"button\"\n                          onClick={(e) => {\n                            e.preventDefault();\n                            e.stopPropagation();\n                            console.log(\"Dropdown toggle clicked, current state:\", showPriorityDropdown);\n                            setShowPriorityDropdown(!showPriorityDropdown);\n                          }}\n                          className=\"w-full px-4 py-4 bg-gray-700 border border-gray-600 rounded-xl text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200 flex items-center justify-between shadow-lg\"\n                        >\n                          <span className={selectedPriority === \"LOW\" ? \"text-green-500\" : \n                                          selectedPriority === \"MEDIUM\" ? \"text-orange-500\" : \n                                          selectedPriority === \"HIGH\" ? \"text-red-500\" : \"text-red-600\"}>\n                            {selectedPriority === \"LOW\" ? \"ðŸŸ¢ Low\" : \n                             selectedPriority === \"MEDIUM\" ? \"ðŸŸ  Medium\" : \n                             selectedPriority === \"HIGH\" ? \"ðŸ”´ High\" : \"ðŸš¨ Urgent\"}\n                          </span>\n                          <svg className=\"w-4 h-4 text-gray-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M19 9l-7 7-7-7\" />\n                          </svg>\n                        </button>\n                      </div>\n          <button\n            type=\"submit\"\n                        className=\"bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white px-6 py-4 rounded-xl font-semibold transition-all duration-200 transform hover:scale-105 shadow-lg hover:shadow-xl\"\n          >\n                        âž• Add Task\n          </button>\n        </div>\n      </form>\n                </div>\n              </div>\n            </div>\n\n                         {/* Enhanced Tasks List Section */}\n             <div className=\"mb-12\">\n\n      {loading ? (\n                <div className=\"text-center text-gray-400 py-16\">\n                  <div className=\"relative\">\n                    <div className=\"w-16 h-16 border-4 border-gray-700 border-t-blue-500 rounded-full animate-spin mx-auto mb-6\"></div>\n                    <div className=\"absolute inset-0 w-16 h-16 border-4 border-transparent border-t-purple-500 rounded-full animate-spin mx-auto\" style={{animationDelay: '0.5s'}}></div>\n                  </div>\n                  <p className=\"text-xl font-medium\">Loading your tasks...</p>\n                  <p className=\"text-sm text-gray-500 mt-2\">Preparing your productivity dashboard</p>\n                </div>\n      ) : sortedTasks.length === 0 ? (\n                <div className=\"text-center text-gray-400 py-20 bg-gradient-to-r from-gray-800 to-gray-900 rounded-2xl border border-gray-700 shadow-2xl\">\n                  <div className=\"text-8xl mb-6\">âœ¨</div>\n                  <h3 className=\"text-2xl font-bold text-white mb-3\">No tasks for today!</h3>\n                  <p className=\"text-lg mb-4\">You're all caught up. Time to add some new tasks above!</p>\n                  <div className=\"flex justify-center space-x-2\">\n                    <div className=\"w-3 h-3 bg-blue-500 rounded-full animate-bounce\"></div>\n                    <div className=\"w-3 h-3 bg-purple-500 rounded-full animate-bounce\" style={{animationDelay: '0.1s'}}></div>\n                    <div className=\"w-3 h-3 bg-pink-500 rounded-full animate-bounce\" style={{animationDelay: '0.2s'}}></div>\n                  </div>\n        </div>\n      ) : (\n        <div className=\"space-y-4\">\n          {sortedTasks.map((task) => (\n            <div\n              key={task.id}\n              className={`bg-gradient-to-r from-gray-700 to-gray-800 rounded-xl p-4 border-l-4 transition-all duration-300 hover:from-gray-650 hover:to-gray-750 shadow-lg hover:shadow-xl ${\n                task.status === 'COMPLETED' ? 'border-green-500 opacity-75' : \n                task.priority === 'HIGH' ? 'border-red-500' :\n                task.priority === 'MEDIUM' ? 'border-orange-500' : 'border-blue-500'\n              }`}\n            >\n              <div className=\"flex items-center justify-between\">\n                            <div className=\"flex items-center space-x-4 flex-1\">\n                              {/* Enhanced Checkbox with Professional Design */}\n                  <button\n                                onClick={(e) => {\n                                  e.stopPropagation();\n                                  e.preventDefault();\n                                  toggleComplete(task.id, task.status);\n                                }}\n                                className={`w-8 h-8 rounded-full border-2 transition-all duration-300 hover:scale-110 flex items-center justify-center cursor-pointer focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-offset-2 focus:ring-offset-gray-800 ${\n                                  task.status === 'COMPLETED'\n                                    ? 'bg-gradient-to-r from-green-500 to-green-600 border-green-500 shadow-lg'\n                                    : 'border-gray-400 hover:border-green-500 hover:shadow-md hover:bg-gray-700'\n                                }`}\n                                aria-label={task.status === 'COMPLETED' ? 'Mark as incomplete' : 'Mark as complete'}\n                              >\n                                {task.status === 'COMPLETED' && (\n                                  <svg className=\"w-5 h-5 text-white\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\n                        <path fillRule=\"evenodd\" d=\"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z\" clipRule=\"evenodd\" />\n                      </svg>\n                    )}\n                  </button>\n                  \n                  <div className=\"flex-1\">\n                    <h3 className={`text-lg font-medium transition-all duration-200 ${\n                                  task.status === 'COMPLETED' ? 'text-gray-500 line-through' : 'text-white'\n                    }`}>\n                      {task.title}\n                    </h3>\n                    {task.description && (\n                      <p className={`text-sm mt-1 ${\n                                    task.status === 'COMPLETED' ? 'text-gray-600' : 'text-gray-400'\n                      }`}>\n                        {task.description}\n                      </p>\n                    )}\n                                <div className=\"flex items-center mt-3 space-x-4\">\n                                  <span className={`text-xs font-medium ${getDueDateColor(task.dueDate)}`}>\n                                    ðŸ“… {formatDueDate(task.dueDate)}\n                                  </span>\n                                </div>\n                  </div>\n                </div>\n                \n                            <div className=\"flex items-center space-x-4\">\n                              <span className={`text-sm font-medium px-3 py-1 rounded-full bg-gray-800 border border-gray-600 ${getPriorityColor(task.priority)}`}>\n                    {getPriorityText(task.priority)}\n                  </span>\n                  \n                              {/* Delete Task Button */}\n                  <button\n                                onClick={(e) => {\n                                  e.stopPropagation();\n                                  e.preventDefault();\n                                  handleDeleteClick(task.id, task.title);\n                                }}\n                                className=\"text-red-400 hover:text-red-300 transition-colors duration-200 p-2 rounded-full hover:bg-red-900 hover:bg-opacity-20 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2 focus:ring-offset-gray-800 cursor-pointer\"\n                                aria-label=\"Delete task\"\n                  >\n                    <svg className=\"w-5 h-5\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\n                      <path fillRule=\"evenodd\" d=\"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z\" clipRule=\"evenodd\" />\n                    </svg>\n                  </button>\n                </div>\n              </div>\n            </div>\n          ))}\n        </div>\n      )}\n                </div>\n\n            {/* Priority Dropdown Portal */}\n            {showPriorityDropdown && priorityDropdownRef.current && (() => {\n              const rect = priorityDropdownRef.current.getBoundingClientRect();\n              return (\n                <div \n                  className=\"fixed z-[9999] bg-gray-700 border border-gray-600 rounded-xl shadow-2xl\"\n                  style={{\n                    top: rect.bottom + 8,\n                    left: rect.left,\n                    width: rect.width,\n                  }}\n                >\n                  <button\n                    type=\"button\"\n                    data-priority-option=\"true\"\n                    onClick={(e) => {\n                      e.preventDefault();\n                      e.stopPropagation();\n                      console.log(\"Setting priority to LOW\");\n                      setSelectedPriority(\"LOW\");\n                      setShowPriorityDropdown(false);\n                    }}\n                    className=\"w-full px-4 py-3 text-green-500 hover:bg-gray-600 cursor-pointer transition-colors rounded-t-xl text-left\"\n                  >\n                    ðŸŸ¢ Low\n                  </button>\n                  <button\n                    type=\"button\"\n                    data-priority-option=\"true\"\n                    onClick={(e) => {\n                      e.preventDefault();\n                      e.stopPropagation();\n                      console.log(\"Setting priority to MEDIUM\");\n                      setSelectedPriority(\"MEDIUM\");\n                      setShowPriorityDropdown(false);\n                    }}\n                    className=\"w-full px-4 py-3 text-orange-500 hover:bg-gray-600 cursor-pointer transition-colors text-left\"\n                  >\n                    ðŸŸ  Medium\n                  </button>\n                  <button\n                    type=\"button\"\n                    data-priority-option=\"true\"\n                    onClick={(e) => {\n                      e.preventDefault();\n                      e.stopPropagation();\n                      console.log(\"Setting priority to HIGH\");\n                      setSelectedPriority(\"HIGH\");\n                      setShowPriorityDropdown(false);\n                    }}\n                    className=\"w-full px-4 py-3 text-red-500 hover:bg-gray-600 cursor-pointer transition-colors text-left\"\n                  >\n                    ðŸ”´ High\n                  </button>\n                  <button\n                    type=\"button\"\n                    data-priority-option=\"true\"\n                    onClick={(e) => {\n                      e.preventDefault();\n                      e.stopPropagation();\n                      console.log(\"Setting priority to URGENT\");\n                      setSelectedPriority(\"URGENT\");\n                      setShowPriorityDropdown(false);\n                    }}\n                    className=\"w-full px-4 py-3 text-red-600 hover:bg-gray-600 cursor-pointer transition-colors rounded-b-xl text-left\"\n                  >\n                    ðŸš¨ Urgent\n                  </button>\n                </div>\n              );\n            })()}\n\n            {/* Delete Confirmation Modal */}\n            <DeleteConfirmationModal\n              isOpen={deleteModal.isOpen}\n              onClose={cancelDelete}\n              onConfirm={confirmDelete}\n              taskTitle={deleteModal.taskTitle}\n            />\n\n            {/* Warning Modal for Task Completion */}\n            {warningModal.isOpen && (\n              <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-[99999]\">\n                <div className=\"bg-gradient-to-br from-gray-800 to-gray-900 rounded-2xl p-8 max-w-md w-full mx-4 border border-gray-700 shadow-2xl\">\n                  <div className=\"text-center\">\n                    <div className=\"mx-auto flex items-center justify-center h-16 w-16 rounded-full bg-yellow-500 bg-opacity-20 mb-6\">\n                      <svg className=\"h-8 w-8 text-yellow-400\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\n                        <path fillRule=\"evenodd\" d=\"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z\" clipRule=\"evenodd\" />\n                      </svg>\n                    </div>\n                    <h3 className=\"text-xl font-bold text-white mb-4\">Mark Task as Completed</h3>\n                    <p className=\"text-gray-300 mb-6\">\n                      Are you sure you want to mark <span className=\"font-semibold text-white\">\"{warningModal.taskTitle}\"</span> as completed?\n                      <br />\n                      <span className=\"text-yellow-400 text-sm mt-2 block\">\n                        âš ï¸ This task will be automatically removed after 48 hours.\n                      </span>\n                    </p>\n                    <div className=\"flex space-x-4\">\n                      <button\n                        onClick={() => setWarningModal({ isOpen: false, taskId: null, taskTitle: \"\", currentStatus: \"\" })}\n                        className=\"flex-1 px-6 py-3 bg-gray-600 hover:bg-gray-500 text-white font-medium rounded-xl transition-all duration-200 hover:shadow-lg\"\n                      >\n                        Cancel\n                      </button>\n                      <button\n                        onClick={handleCompleteConfirm}\n                        className=\"flex-1 px-6 py-3 bg-gradient-to-r from-green-500 to-green-600 hover:from-green-600 hover:to-green-700 text-white font-medium rounded-xl transition-all duration-200 hover:shadow-lg\"\n                      >\n                        Complete Task\n                      </button>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            )}\n\n            {/* Success Confirmation Modal */}\n            <SuccessConfirmationModal\n              isOpen={successModal.isOpen}\n              onClose={closeSuccessModal}\n              onConfirm={successModal.onConfirm}\n              title={successModal.title}\n              message={successModal.message}\n              itemName={successModal.itemName}\n            />\n            </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default TodayView;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}